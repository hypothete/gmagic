(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,n,t){e.exports=t(39)},33:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(16),i=t.n(o),c=(t(33),t(6)),l=t(7),u=t(9),s=t(8),d=t(10),p=t(2),m=t(4),f=t(3),h=t(5),v=t(1),b=["#000000","#1D2B53","#7E2553","#008751","#AB5236","#5F574F","#C2C3C7","#FFF1E8","#FF004D","#FFA300","#FFEC27","#00E436","#29ADFF","#83769C","#FF77A8","#FFCCAA"],O="ADD_COMMAND",g="REMOVE_COMMAND",y="MOVE_COMMAND_UP",j="MOVE_COMMAND_DOWN",x="MOVE_POINT",E="ADD_POINT",C="REMOVE_POINT",w="SET_COLOR",k="NAME_COMMAND",M="SET_PATTERN",D="ADD_BACKGROUND",P="SET_COMMANDS",I="SET_ACTIVE_COMMAND",N="SET_DRAWING_MODE",_="OPEN_MODAL",A="CLOSE_MODAL",S=0;function T(){var e=Object(p.a)(["\n  width: ","px;\n  height: ","px;\n  image-rendering: optimizeSpeed;\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -webkit-optimize-contrast;\n  image-rendering: optimize-contrast;\n  image-rendering: pixelated;\n  -ms-interpolation-mode: nearest-neighbor;\n  z-index: 1;\n  background-color: white;\n  flex-shrink: 0;\n  margin: 50px;\n  box-shadow: 0px 10px 20px rgba(0,0,0,0.2);\n"]);return T=function(){return e},e}function F(){var e=Object(p.a)(["\n  position: absolute;\n  display: ",";\n  z-index: 3;\n  left: 10px;\n  top: 10px;\n"]);return F=function(){return e},e}function L(){var e=Object(p.a)(["\n  position: relative;\n  flex: 1;\n  height: 100%;\n  overflow: scroll;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n  background-color: darkgray;\n  margin-right: 10px;\n"]);return L=function(){return e},e}var R=f.a.div(L()),U=f.a.div(F(),function(e){return e.dragging?"none":"block"}),z=f.a.canvas(T(),function(e){return e.scale},function(e){return e.scale});function B(e,n,t){return Math.max(Math.min(t,e),n)}var V=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).renderCanvas=t.renderCanvas.bind(Object(v.a)(Object(v.a)(t))),t.handleMouseDown=t.handleMouseDown.bind(Object(v.a)(Object(v.a)(t))),t.handleMouseMove=t.handleMouseMove.bind(Object(v.a)(Object(v.a)(t))),t.handleMouseUp=t.handleMouseUp.bind(Object(v.a)(Object(v.a)(t))),t.handleClick=t.handleClick.bind(Object(v.a)(Object(v.a)(t))),t.handleContextMenu=t.handleContextMenu.bind(Object(v.a)(Object(v.a)(t))),t.zoomIn=t.zoomIn.bind(Object(v.a)(Object(v.a)(t))),t.zoomOut=t.zoomOut.bind(Object(v.a)(Object(v.a)(t))),t.state={dragIndex:-1,scale:512},t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refs.canvas.width=128,this.refs.canvas.height=128,this.ctx=this.refs.canvas.getContext("2d"),this.renderCanvas(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.renderCanvas(e)}},{key:"zoomIn",value:function(){this.setState({scale:2*this.state.scale})}},{key:"zoomOut",value:function(){this.setState({scale:this.state.scale/2})}},{key:"fillPattern",value:function(e,n,t,a){var r=a[4*(n%4)+e%4];this.ctx.fillStyle=b[t[r?1:0]],this.ctx.fillRect(e,n,1,1)}},{key:"bresenham",value:function(e,n,t,a,r,o){for(var i,c=Math.abs(t-e),l=-Math.abs(a-n),u=e<t?1:-1,s=n<a?1:-1,d=e,p=n,m=c+l,f=0;;){if(++f>500){console.error("error drawing line ".concat(e,", ").concat(n," to ").concat(t,", ").concat(a));break}if(this.fillPattern(d,p,r,o),d===t&&p===a)break;(i=2*m)>=l&&(m+=l,d+=u),i<=c&&(m+=c,p+=s)}}},{key:"polygon",value:function(e,n,t){for(var a=e.length/2,r=[],o=[],i=0;i<e.length;i+=2)r.push(e[i]),o.push(e[i+1]),i<e.length-3&&this.bresenham(e[i],e[i+1],e[i+2],e[i+3],n,t);for(var c=0;c<this.refs.canvas.height;c++){for(var l=[],u=0,s=a-1,d=0;d<a;d++)(o[d]<c&&o[s]>=c||o[s]<c&&o[d]>=c)&&(l[u++]=r[d]+Math.round((c-o[d])/(o[s]-o[d]+1e-4)*(r[s]-r[d]))),s=d;for(var p=0;p<u-1;)if(l[p]>l[p+1]){var m=l[p];l[p]=l[p+1],l[p+1]=m,p&&p--}else p++;for(var f=0;f<u&&!(l[f]>=this.refs.canvas.width);f+=2)l[f+1]>0&&(l[f]<0&&(l[f]=0),l[f+1]>this.refs.canvas.width&&(l[f+1]=this.refs.canvas.width-1),this.bresenham(l[f],c,l[f+1],c,n,t))}}},{key:"renderCanvas",value:function(e){var n=this;this.ctx.clearRect(0,0,this.refs.canvas.width,this.refs.canvas.height);var t,a=e.commands,r=e.activeCommand;if(Object(h.a)(a).forEach(function(e){switch(e.type){case"POLYGON":n.polygon(e.points,e.colors,e.pattern);break;case"LINE":for(var a=0;a<e.points.length-3;a+=2){var o=e.points[a],i=e.points[a+1],c=e.points[a+2],l=e.points[a+3];n.bresenham(o,i,c,l,e.colors,e.pattern)}break;default:return}e.id===r&&(t=e)}),t){this.ctx.globalCompositeOperation="xor",this.ctx.strokeStyle=b[t.colorId];for(var o=0;o<t.points.length;o+=2){var i=t.points[o]-.5,c=t.points[o+1]-.5;this.ctx.strokeRect(i-1,c-1,2,2)}this.ctx.globalCompositeOperation="source-over"}}},{key:"convert",value:function(e){var n=this.refs.canvas.getBoundingClientRect();return{x:B(Math.floor(this.refs.canvas.width*(e.clientX-n.left)/n.width),0,this.refs.canvas.width),y:B(Math.floor(this.refs.canvas.height*(e.clientY-n.top)/n.height),0,this.refs.canvas.height)}}},{key:"dist",value:function(e,n){return Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)}},{key:"getNearestPoint",value:function(e){for(var n=this,t=this.convert(e),a=this.props.commands.find(function(e){return e.id===n.props.activeCommand}),r=-1,o=0;o<a.points.length;o+=2){var i={x:a.points[o],y:a.points[o+1]};if(this.dist(i,t)<8){r=o;break}}return r}},{key:"handleClick",value:function(e){if(e.stopPropagation(),e.preventDefault(),this.props.activeCommand&&"EDIT_POINTS"!==this.props.drawingMode){var n=this.convert(e),t=n.x,a=n.y;this.props.addPoint(this.props.activeCommand,t,a)}}},{key:"handleMouseDown",value:function(e){if(e.stopPropagation(),e.preventDefault(),this.props.activeCommand&&"EDIT_POINTS"===this.props.drawingMode){var n=this.getNearestPoint(e);n>=0&&this.setState({dragIndex:n})}}},{key:"handleMouseMove",value:function(e){if(e.stopPropagation(),e.preventDefault(),!(this.state.dragIndex<0)){var n=this.convert(e),t=n.x,a=n.y;this.props.movePoint(this.props.activeCommand,this.state.dragIndex,t,a)}}},{key:"handleMouseUp",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({dragIndex:-1})}},{key:"handleContextMenu",value:function(e){return e.stopPropagation(),e.preventDefault(),!1}},{key:"render",value:function(){return[r.a.createElement(R,{key:"frame",onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove},r.a.createElement(z,{scale:this.state.scale,ref:"canvas",onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleContextMenu})),r.a.createElement(U,{key:"ctrls",dragging:this.state.dragIndex>-1},r.a.createElement("button",{onClick:this.zoomIn},r.a.createElement("span",{role:"img","aria-label":"zoom in"},"\u2795")),r.a.createElement("button",{onClick:this.zoomOut},r.a.createElement("span",{role:"img","aria-label":"zoom out"},"\u2796")))]}}]),n}(a.Component),G=Object(m.b)(function(e){return{commands:e.commands,activeCommand:e.activeCommand,drawingMode:e.drawingMode}},{addPoint:function(e,n,t){return{type:E,payload:{id:e,x:n,y:t}}},movePoint:function(e,n,t,a){return{type:x,payload:{id:e,index:n,x:t,y:a}}},removePoint:function(e,n){return{type:C,payload:{id:e,index:n}}}})(V);function W(){var e=Object(p.a)(["\n  width: 3em;\n  height: 3em;\n"]);return W=function(){return e},e}function Y(){var e=Object(p.a)(["\n  width: 1em;\n  height: 1em;\n  display: inline-block;\n  background-color: ",";\n  border: 2px inset;\n"]);return Y=function(){return e},e}function J(){var e=Object(p.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin-right: 10px;\n  flex: 1;\n"]);return J=function(){return e},e}function X(){var e=Object(p.a)(["\n  display: flex;\n  height: 100%;\n  width: 3em;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin-right: 5px;\n"]);return X=function(){return e},e}function H(){var e=Object(p.a)(["\n  width: 100%;\n  border-bottom: 2px outset;\n  padding: 10px;\n  background-color: ","\n  display: flex;\n  justify-content: flex-end;\n"]);return H=function(){return e},e}var K={LINE:"\u2712\ufe0f",POLYGON:"\u2b50"},$=f.a.div(H(),function(e){return e.active?"darkgray":"white"}),q=f.a.div(X()),Q=f.a.div(J()),Z=f.a.div(Y(),function(e){return e.color}),ee=f.a.div(W()),ne=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).selectItem=t.selectItem.bind(Object(v.a)(Object(v.a)(t))),t.moveUp=t.moveUp.bind(Object(v.a)(Object(v.a)(t))),t.moveDown=t.moveDown.bind(Object(v.a)(Object(v.a)(t))),t.remove=t.remove.bind(Object(v.a)(Object(v.a)(t))),t.handleNameChange=t.handleNameChange.bind(Object(v.a)(Object(v.a)(t))),t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"selectItem",value:function(){this.props.activeCommand!==this.props.item.id?this.props.setActiveCommand(this.props.item):this.props.setActiveCommand({id:null})}},{key:"moveUp",value:function(e){e.stopPropagation(),this.props.moveCommandUp(this.props.item)}},{key:"moveDown",value:function(e){e.stopPropagation(),this.props.moveCommandDown(this.props.item)}},{key:"remove",value:function(e){e.stopPropagation(),this.props.removeCommand(this.props.item)}},{key:"handleNameChange",value:function(e){this.props.nameCommand(this.props.item.id,e.target.value)}},{key:"render",value:function(){var e=this.props,n=e.item,t=e.activeCommand;return r.a.createElement($,{onClick:this.selectItem,active:t===n.id},r.a.createElement(Q,null,r.a.createElement("span",{role:"img","aria-label":n.type},K[n.type]),r.a.createElement("input",{type:"text",value:n.name,onChange:this.handleNameChange})),r.a.createElement(ee,null,r.a.createElement(Z,{color:b[n.colors[0]]}),r.a.createElement(Z,{color:b[n.colors[1]]})),r.a.createElement(q,null,r.a.createElement("button",{onClick:this.moveUp},r.a.createElement("span",{role:"img","aria-label":"move command up"},"\ud83d\udd3c")),r.a.createElement("button",{onClick:this.remove},r.a.createElement("span",{role:"img","aria-label":"remove command"},"\ud83d\uddd1\ufe0f")),r.a.createElement("button",{onClick:this.moveDown},r.a.createElement("span",{role:"img","aria-label":"move command down"},"\ud83d\udd3d"))))}}]),n}(a.Component),te={setActiveCommand:function(e){return{type:I,payload:e.id}},moveCommandUp:function(e){return{type:y,payload:e}},moveCommandDown:function(e){return{type:j,payload:e}},removeCommand:function(e){return{type:g,payload:e}},nameCommand:function(e,n){return{type:k,payload:{id:e,name:n}}}},ae=Object(m.b)(function(e){return{activeCommand:e.activeCommand}},te)(ne);function re(){var e=Object(p.a)(["\n  border: 2px inset;\n  border-top: none;\n  width: 300px;\n  height: 100%;\n  overflow-y: scroll;\n  margin: 0 10px 0 0;\n  padding-top: 10px;\n"]);return re=function(){return e},e}var oe=f.a.div(re()),ie=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props.commands;return r.a.createElement(oe,null,e.map(function(e){return r.a.createElement(ae,{key:e.id,item:e})}))}}]),n}(a.Component),ce=Object(m.b)(function(e){return{commands:e.commands}})(ie);function le(){var e=Object(p.a)(["\n  width: 20px;\n  height: 20px;\n  background-color: ",";\n  border: 2px  ",";\n  border-color:  ",";\n"]);return le=function(){return e},e}function ue(){var e=Object(p.a)(["\n  margin: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return ue=function(){return e},e}var se=f.a.div(ue()),de=f.a.div(le(),function(e){return e.color},function(e){return e.active?"dashed":"inset"},function(e){return e.active?"black":"auto"}),pe=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).state={activeIndex:-1},t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(e){var n=e.commands.find(function(n){return n.id===e.activeCommand});n&&this.setState({activeIndex:n.colors[e.index]})}},{key:"render",value:function(){var e=this,n=this.props,t=n.activeCommand,a=n.setColor,o=n.index;return r.a.createElement(se,null,b.map(function(n,i){return r.a.createElement(de,{color:n,key:i,active:e.state.activeIndex===i,onClick:function(){a(t,i,o)}})}))}}]),n}(a.Component),me=Object(m.b)(function(e){return{activeCommand:e.activeCommand,commands:e.commands}},{setColor:function(e,n,t){return{type:w,payload:{id:e,color:n,index:t}}}})(pe);function fe(){var e=Object(p.a)(["\n  width: 25%;\n  height: 25%;\n  float: left;\n  margin: 0;\n"]);return fe=function(){return e},e}function he(){var e=Object(p.a)(["\n  width: 100px;\n  height: 100px;\n"]);return he=function(){return e},e}var ve=f.a.div(he()),be=f.a.input(fe()),Oe=function(e){function n(e){var t;Object(c.a)(this,n),t=Object(u.a)(this,Object(s.a)(n).call(this,e));var a=e.commands.find(function(n){return n.id===e.activeCommand});return t.state=a?{values:Object(h.a)(a.pattern)}:{values:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},t.toggleValue=t.toggleValue.bind(Object(v.a)(Object(v.a)(t))),t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(e){var n=e.commands.find(function(n){return n.id===e.activeCommand});n&&this.setState({values:Object(h.a)(n.pattern)})}},{key:"toggleValue",value:function(e){this.props.setPattern(this.props.activeCommand,this.state.values.map(function(n,t){return t===e?!n:n}))}},{key:"render",value:function(){var e=this;return r.a.createElement(ve,null,this.state.values.map(function(n,t){return r.a.createElement(be,{type:"checkbox",key:t,checked:n,onChange:function(){e.toggleValue(t)}})}))}}]),n}(a.Component),ge=Object(m.b)(function(e){return{activeCommand:e.activeCommand,commands:e.commands}},{setPattern:function(e,n){return{type:M,payload:{id:e,pattern:n}}}})(Oe);function ye(){var e=Object(p.a)(["\n  min-height: 30px;\n"]);return ye=function(){return e},e}function je(){var e=Object(p.a)(["\n  margin: 0px 5px 5px 5px;\n  border-width: 2px;\n  border-color: ",";\n  cursor: pointer;\n"]);return je=function(){return e},e}function xe(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n"]);return xe=function(){return e},e}function Ee(){var e=Object(p.a)(["\n  margin: 10px;\n  flex: 1;\n  min-height: 100px;\n  z-index: 2;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n  overflow-y: scroll;\n  padding: 0 10px;\n"]);return Ee=function(){return e},e}var Ce=f.a.div(Ee()),we=f.a.div(xe()),ke=f.a.button(je(),function(e){return e.active?"blue":"none"}),Me=f.a.div(ye()),De=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props,n=e.addCommand,t=e.activeCommand,o=e.setDrawingMode,i=e.drawingMode,c=e.addBackground,l=e.openModal;return r.a.createElement(Ce,null,r.a.createElement(we,null,r.a.createElement(Me,null,r.a.createElement(ke,{onClick:function(){n("LINE")}},r.a.createElement("span",{role:"img","aria-label":"add line"},"\u2712\ufe0f Add Line")),r.a.createElement(ke,{onClick:function(){n("POLYGON")}},r.a.createElement("span",{role:"img","aria-label":"add polygon"},"\u2b50 Add Polygon")),r.a.createElement(ke,{onClick:function(){c()}},r.a.createElement("span",{role:"img","aria-label":"add background"},"\ud83d\uddbc\ufe0f Add Background")),r.a.createElement(ke,{onClick:function(){l()}},r.a.createElement("span",{role:"img","aria-label":"open export modal"},"\ud83d\udcbe Import/Export")),r.a.createElement("a",{href:"//github.com/hypothete/gmagic",target:"_blank",rel:"noreferrer noopener"},r.a.createElement(ke,null,r.a.createElement("span",{role:"img","aria-label":"go to help readme"},"\u2753 Help")))),r.a.createElement(Me,null,null!==t&&r.a.createElement(a.Fragment,null,r.a.createElement(ke,{onClick:function(){o("ADD_POINTS")},active:"ADD_POINTS"===i},r.a.createElement("span",{role:"img","aria-label":"add points"},"\u2795 Add Points")),r.a.createElement(ke,{onClick:function(){o("EDIT_POINTS")},active:"EDIT_POINTS"===i},r.a.createElement("span",{role:"img","aria-label":"edit points"},"\ud83d\udccd Edit Points"))))),r.a.createElement(we,null,r.a.createElement(me,{index:0}),r.a.createElement(me,{index:1})),r.a.createElement(we,null,r.a.createElement(ge,null)))}}]),n}(a.Component),Pe=Object(m.b)(function(e){return{activeCommand:e.activeCommand,drawingMode:e.drawingMode}},{addCommand:function(e){return{type:O,payload:{type:e,id:++S}}},addBackground:function(){return{type:D,payload:{type:"POLYGON",id:++S}}},setDrawingMode:function(e){return{type:N,payload:e}},openModal:function(){return{type:_}}})(De);function Ie(){var e=Object(p.a)(["\n  cursor: pointer;\n"]);return Ie=function(){return e},e}function Ne(){var e=Object(p.a)(["\n  padding: 10px;\n"]);return Ne=function(){return e},e}function _e(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n\n  p {\n    margin: 0 10px 0 0;\n  }\n"]);return _e=function(){return e},e}function Ae(){var e=Object(p.a)(["\n  background-color: #fff;\n  box-shadow: 0px 10px 20px rgba(0,0,0,0.1);\n  cursor: auto;\n"]);return Ae=function(){return e},e}function Se(){var e=Object(p.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  z-index: 5;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Se=function(){return e},e}var Te=f.a.div(Se()),Fe=f.a.div(Ae()),Le=f.a.div(_e()),Re=f.a.div(Ne()),Ue=f.a.div(Ie()),ze=function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(s.a)(n).call(this,e))).exitModal=t.exitModal.bind(Object(v.a)(Object(v.a)(t))),t.importFile=t.importFile.bind(Object(v.a)(Object(v.a)(t))),t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"importFile",value:function(e){var n=this,t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);n.props.setCommands(t),n.props.closeModal()},t.readAsText(e.target.files[0])}},{key:"calculatePattern",value:function(e){var n=0;return e.forEach(function(e,t){var a=0;e&&t>0?a=Math.pow(2,15-t):e&&(a-=32768),n+=a}),n}},{key:"compressToPico",value:function(e){var n=this;return e.map(function(e){var t="";"POLYGON"===e.type?t+="poly(":"LINE"===e.type&&(t+="line(");var a=16*e.colors[1]+e.colors[0],r=n.calculatePattern(e.pattern);return t+="'".concat(e.points.join(","),"', 0x").concat(a.toString(16),", ").concat(r,")\n")})}},{key:"exitModal",value:function(e){e.stopPropagation(),this.props.closeModal()}},{key:"render",value:function(){var e=this.props,n=e.commands;if(!e.modalOpen)return null;var t=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=new Blob(this.compressToPico(n),{type:"text/plain"}),o=window.URL.createObjectURL(t),i=window.URL.createObjectURL(a);return r.a.createElement(Te,null,r.a.createElement(Fe,null,r.a.createElement(Le,null,r.a.createElement("p",null,"Import and export data"),r.a.createElement(Ue,{onClick:this.exitModal},r.a.createElement("span",{role:"img","aria-label":"exit modal button"},"\u274c"))),r.a.createElement(Re,null,r.a.createElement("p",null,"Import JSON: ",r.a.createElement("input",{type:"file",onChange:this.importFile})),r.a.createElement("p",null,r.a.createElement("a",{download:"gmagic_drawing.json",href:o},"Download JSON")),r.a.createElement("p",null,r.a.createElement("a",{download:"gmagic_drawing.txt",href:i},"Download PICO-8 code")))))}}]),n}(a.Component),Be=Object(m.b)(function(e){return{commands:e.commands,modalOpen:e.modalOpen}},{closeModal:function(){return{type:A}},setCommands:function(e){return{type:P,payload:e}}})(ze);function Ve(){var e=Object(p.a)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  flex-direction: column;\n"]);return Ve=function(){return e},e}function Ge(){var e=Object(p.a)(["\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin: 0;\n"]);return Ge=function(){return e},e}var We=f.a.div(Ge()),Ye=f.a.div(Ve()),Je=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Ye,null,r.a.createElement(We,null,r.a.createElement(G,null),r.a.createElement(ce,null)),r.a.createElement(Pe,null),r.a.createElement(Be,null))}}]),n}(a.Component),Xe=Object(m.b)(function(e){return{}})(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=t(14),Ke=t(11),$e={commands:[{id:12345,name:"Background",type:"POLYGON",points:[0,0,127,0,127,127,0,127],colors:[6,7],pattern:[!0,!0,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!1,!0,!0]}],activeCommand:null,drawingMode:"EDIT_POINTS",modalOpen:!1};var qe=Object(He.b)({commands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.commands,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return[].concat(Object(h.a)(e),[{id:n.payload.id,name:"cmd-".concat(n.payload.id),type:n.payload.type,points:[],colors:[0,7],pattern:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}]);case g:return Object(h.a)(e.filter(function(e){return e.id!==n.payload.id}));case D:return[{id:n.payload.id,name:"Background-".concat(n.payload.id),type:n.payload.type,points:[0,0,127,0,127,127,0,127],colors:[7,0],pattern:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}].concat(Object(h.a)(e));case y:var t=e.findIndex(function(e){return e.id===n.payload.id});if(t<=0)return Object(h.a)(e);var a=e[t];return[].concat(Object(h.a)(e.slice(0,t-1)),[Object(Ke.a)({},a),Object(Ke.a)({},e[t-1])],Object(h.a)(e.slice(t+1)));case j:var r=e.findIndex(function(e){return e.id===n.payload.id});if(r<0||r===e.length-1)return Object(h.a)(e);var o=e[r];return[].concat(Object(h.a)(e.slice(0,r)),[Object(Ke.a)({},e[r+1]),Object(Ke.a)({},o)],Object(h.a)(e.slice(r+2)));case x:var i=n.payload,c=i.id,l=i.index,u=i.x,s=i.y;return e.map(function(e){return e.id===c?Object(Ke.a)({},e,{points:e.points.map(function(e,n){return n===l?u:n===l+1?s:e})}):e});case E:var d=n.payload,p=d.id,m=d.x,f=d.y;return e.map(function(e){return e.id===p?Object(Ke.a)({},e,{points:[].concat(Object(h.a)(e.points),[m,f])}):e});case C:var v=n.payload,b=v.id,I=v.index;return e.map(function(e){return e.id===b?Object(Ke.a)({},e,{points:e.points.splice(I,2)}):e});case w:var N=n.payload,_=N.id,A=N.color,S=N.index;return e.map(function(e){return e.id===_?Object(Ke.a)({},e,{colors:e.colors.map(function(e,n){return S===n?A:e})}):e});case k:var T=n.payload,F=T.id,L=T.name;return e.map(function(e){return e.id===F?Object(Ke.a)({},e,{name:L}):e});case M:var R=n.payload,U=R.id,z=R.pattern;return e.map(function(e){return e.id===U?Object(Ke.a)({},e,{pattern:Object(h.a)(z)}):e});case P:return Object(h.a)(n.payload);default:return e}},activeCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.activeCommand,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case I:return n.payload;case O:return n.payload.id;case g:return n.payload.id===e?null:e;default:return e}},drawingMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.drawingMode,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N:return n.payload;case I:return"EDIT_POINTS";case O:return"ADD_POINTS";default:return e}},modalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.modalOpen;switch((arguments.length>1?arguments[1]:void 0).type){case _:return!0;case A:return!1;default:return e}}}),Qe=Object(He.c)(qe,$e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ze=document.getElementById("root");i.a.render(r.a.createElement(m.a,{store:Qe},r.a.createElement(Xe,null)),Ze),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.1c40e571.chunk.js.map